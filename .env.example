# =============================================================================
# FRAUD TRANSACTION MANAGEMENT API - Environment Variables Template
# =============================================================================
#
# ⚠️ WARNING TO AI CODING AGENTS ⚠️
# ===================================
# DO NOT USE .env FILES FOR AUTOMATED TASKS.
# ALWAYS USE DOPPLER COMMANDS: `uv run doppler-local`, `uv run doppler-test`
#
# This file is a REFERENCE for required keys only.
# Do not copy this to `.env` and do not use `.env`-based workflows.
#
# AGENTS MUST USE: `uv run doppler-local-test` (NOT `uv run test`)
#
# See AGENTS.md for canonical agent instructions.
# =============================================================================
#
# This is a TEMPLATE/REFERENCE file. Values here are placeholders.
#
# IMPORTANT: This project uses DOPPLER as the PRIMARY secrets manager.
# - Production: Doppler is REQUIRED
# - Team CI: Doppler is REQUIRED
# - Local Dev: Use Doppler (RECOMMENDED): uv run doppler-local
#
# To get started with Doppler, see: docs/01-setup/doppler-secrets-setup.md
#
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION
# -----------------------------------------------------------------------------
APP_ENV=local
APP_NAME=fraud-transaction-management
APP_LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# DATABASE - PostgreSQL (required)
# -----------------------------------------------------------------------------
# Runtime app user (used by FastAPI)
DATABASE_URL_APP=postgresql://user:password@host:5432/database?sslmode=prefer

# Admin user (for migrations/schema changes) - optional for local dev
# DATABASE_URL_ADMIN=postgresql://admin:password@host:5432/postgres?sslmode=prefer

# -----------------------------------------------------------------------------
# AUTH0 - Authentication (required)
# -----------------------------------------------------------------------------
AUTH0_DOMAIN=your-tenant.auth0.com
AUTH0_AUDIENCE=https://your-api-identifier
AUTH0_ALGORITHMS=RS256

# Auth0 Client Credentials (for testing/development only - optional)
# AUTH0_CLIENT_ID=your-client-id
# AUTH0_CLIENT_SECRET=your-client-secret

# -----------------------------------------------------------------------------
# LOCAL DEVELOPMENT - JWT Bypass (optional)
# -----------------------------------------------------------------------------
# Skip JWT validation for local development/e2e load testing
# SECURITY: ONLY works when APP_ENV=local, will error in test/prod
# When enabled, returns a mock PLATFORM_ADMIN user for all requests
# SECURITY_SKIP_JWT_VALIDATION=true

# -----------------------------------------------------------------------------
# KAFKA - Redpanda (required for decision events)
# -----------------------------------------------------------------------------
KAFKA_ENABLED=true
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CONSUMER_GROUP_ID=card-fraud-transaction-management-local
KAFKA_TOPIC_DECISIONS=fraud.card.decisions.v1

# -----------------------------------------------------------------------------
# SECURITY (optional - for internal tokens)
# -----------------------------------------------------------------------------
# SECRET_KEY=your-secret-key-min-32-chars
# ALGORITHM=HS256
# METRICS_TOKEN=your-metrics-token

# -----------------------------------------------------------------------------
# CORS (optional)
# -----------------------------------------------------------------------------
# CORS_ORIGINS=http://localhost:3000,http://localhost:5173
